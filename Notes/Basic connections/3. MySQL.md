
```bash
mysql -u root -p

# next it will ask you to enter the password
```

When we do not specify a host, it will default to the `localhost` server. We can specify a remote host and port using the `-h` and `-P` flags.

```bash
mysql -u root -h docker.hackthebox.eu -P 3306 -p 

-u: Username
-h: Host (10.231.1.2)
-P: Port
-p: Password
```

The default MySQL/MariaDB port is (3306)

---
## CRUD

### Create a database
```sql
CREATE DATABASE users;


SHOW DATABASES;


USE users;
```

---
### Create Tables
```sql
CREATE TABLE logins (
    id INT,
    username VARCHAR(100),
    password VARCHAR(100),
    date_of_joining DATETIME
    );

   
CREATE TABLE logins (
    id INT NOT NULL AUTO_INCREMENT,
    username VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(100) NOT NULL,
    date_of_joining DATETIME DEFAULT NOW(),
    PRIMARY KEY (id)
    );

  
SHOW TABLES;
```

```shell-session
mysql> DESCRIBE logins;

+-----------------+--------------+
| Field           | Type         |
+-----------------+--------------+
| id              | int          |
| username        | varchar(100) |
| password        | varchar(100) |
| date_of_joining | date         |
+-----------------+--------------+
4 rows in set (0.00 sec)
```

---
### INSERT Statement

```sql
INSERT INTO table_name VALUES (column1_value, column2_value, column3_value, ...);

-- ---

-- Inserting single rows
INSERT INTO logins VALUES(1, 'admin', 'p@ssw0rd', '2020-07-02');

-- id and DOC can be igcored as the will get filled by default
INSERT INTO table_name(column2, column3, ...) VALUES (column2_value, column3_value, ...);

-- We can add multiple records as well
INSERT INTO logins(username, password) VALUES ('john', 'john123!'), ('tom', 'tom123!');
```

---
### SELECT Statement

```sql
SELECT * FROM table_name;

SELECT column1, column2 FROM table_name;

SELECT * FROM logins;

SELECT username,password FROM logins;
```

---
### DROP Statement

```sql
DROP TABLE logins;
```

---
### ALTER Statement

```sql
mysql> ALTER TABLE logins ADD newColumn INT;
```

To rename a column, we can use `RENAME COLUMN`:
```sql
mysql> ALTER TABLE logins RENAME COLUMN newColumn TO newerColumn;
```

We can also change a column's datatype with `MODIFY`:
```sql
mysql> ALTER TABLE logins MODIFY newerColumn DATE;
```

Finally, we can drop a column using `DROP`:
```sql
mysql> ALTER TABLE logins DROP newerColumn;
```

---
### UPDATE Statement

```sql
UPDATE table_name SET column1=newvalue1, column2=newvalue2, ... WHERE <condition>;
```

```sql
mysql> UPDATE logins SET password = 'change_password' WHERE id > 1;

Query OK, 3 rows affected (0.00 sec)
Rows matched: 3  Changed: 3  Warnings: 0


mysql> SELECT * FROM logins;

+----+---------------+-----------------+---------------------+
| id | username      | password        | date_of_joining     |
+----+---------------+-----------------+---------------------+
|  1 | admin         | p@ssw0rd        | 2020-07-02 00:00:00 |
|  2 | administrator | change_password | 2020-07-02 11:30:50 |
|  3 | john          | change_password | 2020-07-02 11:47:16 |
|  4 | tom           | change_password | 2020-07-02 11:47:16 |
+----+---------------+-----------------+---------------------+
4 rows in set (0.00 sec)
```

---
### Sorting Results
```sql
SELECT * FROM logins ORDER BY password;

SELECT * FROM logins ORDER BY password DESC;

SELECT * FROM logins ORDER BY password DESC, id ASC;
```

---
### Limit
```sql
SELECT * FROM logins LIMIT 2;

SELECT * FROM logins LIMIT 1, 2;
```

---
### WHERE Clause
```sql
SELECT * FROM table_name WHERE <condition>;

SELECT * FROM logins WHERE id > 1;

SELECT * FROM logins where username = 'admin';
```

---
### LIKE Clause
```sql
SELECT * FROM logins WHERE username LIKE 'admin%';
-- % any amount of wildcard

SELECT * FROM logins WHERE username like '___';
-- _ single wildcard
```

---
### AND Operator
```sql
SELECT 1 = 1 AND 'test' = 'test';

SELECT 1 = 1 AND 'test' = 'abc';


```

---
### OR Operator
```sql
SELECT 1 = 1 OR 'test' = 'abc';

SELECT 1 = 2 OR 'test' = 'abc';
```

---
### NOT Operator
```sql
SELECT NOT 1 = 1;

SELECT NOT 1 = 2;
```

---
The `AND`, `OR` and `NOT` operators can also be represented as `&&`, `||` and `!`, respectively.

---
### Operators in queries
```sql
SELECT * FROM logins WHERE username != 'john';

SELECT * FROM logins WHERE username != 'john' AND id > 1;
```

---
## Multiple Operator Precedence

SQL supports various other operations such as addition, division as well as bitwise operations. Thus, a query could have multiple expressions with multiple operations at once. The order of these operations is decided through operator precedence.

Here is a list of common operations and their precedence, as seen in the [MariaDB Documentation](https://mariadb.com/kb/en/operator-precedence/):

- Division (`/`), Multiplication (`*`), and Modulus (`%`)
- Addition (`+`) and subtraction (`-`)
- Comparison (`=`, `>`, `<`, `<=`, `>=`, `!=`, `LIKE`)
- NOT (`!`)
- AND (`&&`)
- OR (`||`)

---

### UNION

```sql
SELECT * FROM ports;

SELECT * FROM ports;

SELECT * FROM ports UNION SELECT * FROM ships;
```