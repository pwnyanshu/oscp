
```sql
-- this is a comment (be aware there should be a space after two dashes), in URL we should use --+, -- -

# so is this (# should not be used in URL instead `%23` )

/* so am i */
```

---
## Auth Bypass with comments

```sql
SELECT * FROM logins WHERE username='admin'-- ' AND password = 'something';

-- Payload: admin'--  (At the end a space should be there)
```

---
---
## Another Example

 Let us look at a scenario like this:

![Admin panel showing an SQL query execution: SELECT * FROM logins WHERE (username='admin' AND id > 1) AND password='437b930db84b8079c2dd804a71936b5f'; with a message: Login failed!](https://cdn.services-k8s.prod.aws.htb.systems/content/modules/33/paranthesis_fail.png)

The above query ensures that the user's id is always greater than 1, which will prevent anyone from logging in as admin. Additionally, we also see that the password was hashed before being used in the query. This will prevent us from injecting through the password field because the input is changed to a hash.

Let us try logging in with valid credentials `admin / p@ssw0rd` to see the response.

![Admin panel showing an SQL query execution: SELECT * FROM logins WHERE (username='admin' AND id > 1) AND password='0f359740bd1cda994f8b55330c86d845'; with a message: Login failed!](https://cdn.services-k8s.prod.aws.htb.systems/content/modules/33/paranthesis_valid_fail.png)

As expected, the login failed even though we supplied valid credentials because the admin’s ID equals 1. So let us try logging in with the credentials of another user, such as `tom`.

![Admin panel showing an SQL query execution: SELECT * FROM logins WHERE (username='tom' AND id > 1) AND password='f86a3c565937e6315864d1a43c48e7'; with a message: Login successful as user: tom"](https://cdn.services-k8s.prod.aws.htb.systems/content/modules/33/tom_login.png)

Logging in as the user with an id not equal to 1 was successful. So, how can we log in as the admin? We know from the previous section on comments that we can use them to comment out the rest of the query. So, let us try using `admin'--` as the username.

![Admin panel showing an SQL query execution: SELECT * FROM logins WHERE (username='admin'--' AND id > 1) AND password='437b930db84b8079c2dd804a71936b5f'; with an error message: You have an error in your SQL syntax; check the manual for the right syntax near '437b930db84b8079c2dd804a71936b5f' at line 1](https://cdn.services-k8s.prod.aws.htb.systems/content/modules/33/paranthesis_error.png)

The login failed due to a syntax error, as a closed one did not balance the open parenthesis. To execute the query successfully, we will have to add a closing parenthesis. Let us try using the username `admin')--` to close and comment out the rest.

![Admin panel showing an SQL query execution: SELECT * FROM logins WHERE (username='admin'--' AND id > 1) AND password='437b930db84b8079c2dd804a71936b5f'; with a message: Login successful as user: admin"](https://cdn.services-k8s.prod.aws.htb.systems/content/modules/33/paranthesis_success.png)

The query was successful, and we logged in as admin. The final query as a result of our input is:

Code: sql

```sql
SELECT * FROM logins where (username='admin') -- 
```

---
Demo

![[Pasted image 20251130155700.png]]
![[Pasted image 20251130155716.png]]
```sql
Payload used: 
asd' OR id=5) # 
```

